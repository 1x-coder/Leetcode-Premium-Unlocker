(()=>{"use strict";class e{constructor(e,t,n,r,a,i){this.frequency=e,this.id=t,this.difficulty=n,this.problemUrl=r,this.problemName=a,this.acceptance=i}}class t extends e{constructor(e,t,n,r,a,i,l,o){super(e,t,n,r,a,i),this.companyName=l,this.duration=o}}class n{constructor(e,t,n){this.url=n,this.duration=e,this.company=t}}class r{constructor(){this.data={}}getKeys(){return Object.keys(this.data)}getList(e){return e in this.data?this.data[e]:[]}}class a extends r{push(e,t){if(e in this.data)return void this.data[e].push(t);let n=[];n.push(t),this.data[e]=n}}class i extends r{push(e,t){if(e in this.data)return void this.data[e].push(t);let n=new l;n.push(t),this.data[e]=n}}class l extends Array{sort(e,t=!1){(new e).sort(this,t)}}class o{static COLOR_ACCENT="#62C555"}class s{constructor(){this.elementModifier=[]}injectFunctionToTargetElement(e){this.elementModifier.push(e)}modifyElement(){this.modifyActiveElement(),this.addObserverToCompaniesSection()}modifyActiveElement(){let e=document.getElementsByClassName("swiper-slide-active"),t=e[e.length-1].getElementsByTagName("a");for(let e=0;e<=t.length-1;e++){let n=t[e].href.split("/"),r=n[n.length-1],a=t[e];null==a.getAttribute("company-name")&&a.setAttribute("company-name",r),a.href="javascript:void(0)";for(let e=0;e<=this.elementModifier.length-1;e++)this.elementModifier[e](a);this.onModifyElementSuccess(a)}}onModifyElementSuccess(e){let t=e.getElementsByTagName("span");t[t.length-1].style.backgroundColor=o.COLOR_ACCENT}addObserverToCompaniesSection(){var e=document.getElementsByClassName("mt-0")[0];const t=new MutationObserver((()=>{this.modifyActiveElement()}));e?t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"]}):window.setTimeout((()=>{addObserverToCompaniesSection()}),500)}}class d{getValue(e,t){return e[t]}doSwap(e,t){return e>t}swap(e,t,n){let r=e[t];e[t]=e[n],e[n]=r}partition(e,t,n,r){let a=this.getValue(e,n),i=t-1;for(let l=t;l<=n-1;l++){let t=this.getValue(e,l),n=this.doSwap(t,a);r&&(n=!n),n&&(i++,this.swap(e,i,l))}return this.swap(e,i+1,n),i+1}sort(e,t=!1){this.quickSort(e,0,e.length-1,t)}quickSort(e,t,n,r){if(null==n&&null==t&&(n=e.length-1,t=0),t<n){let a=this.partition(e,t,n,r);this.quickSort(e,t,a-1,r),this.quickSort(e,a+1,n,r)}}}class c extends d{getValue(e,t){return e[t].acceptance}}class h extends d{getValue(e,t){return e[t].difficulty}doSwap(e,t){let n=["Easy","Medium","Hard"];return n.indexOf(e)<n.indexOf(t)}}class m extends d{getValue(e,t){return parseInt(e[t].id)}}class u extends d{getValue(e,t){return e[t].problemName}doSwap(e,t){let n="abcdefghijklmnopqrstuvwxyz",r=e[0].toLowerCase(),a=t[0].toLowerCase();return n.indexOf(r)<n.indexOf(a)}}class g extends d{getValue(e,t){return e[t].frequency}}function p(e){e.style.textDecoration="underline",e.style.cursor="pointer",e.style.fontWeight="bold",e.style.color="blue"}class b{static generateTextElement(e){let t=document.createElement("div"),n=document.createElement("h3");return n.textContent=e,n.style="color: black;\n        text-align: center;\n        ",t.appendChild(n),t}static generateProblemIdElement(e){let t=b.generateTextElement(e);return t.style="\n       width: 5%\n       ",t}static generateProblemFrequencyElement(e){let t=document.createElement("div");t.setAttribute("title",String(Math.round(100*e))+"%"),t.style="\n        display: flex;\n        height: 1rem;\n        overflow: hidden;\n        font-size: .75rem;\n        background-color: #e9ecef;\n        border-radius: 0.5rem;\n        margin-top: auto;\n        margin-bottom: auto;\n        width:10%; \n        ";let n=document.createElement("div");return n.style=`\n        border-radius: 0.5rem;\n        height:100%; \n        width:${100*e}%; \n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        overflow: hidden;\n        color: #fff;\n        background-color: #0d6efd;\n        `,t.appendChild(n),t}static generateProblemNameElement(e,t){let n=document.createElement("div"),r=document.createElement("a");return r.href=t,r.textContent=e,r.style="\n            color:black; \n        ",n.appendChild(r),n.style="\n        width: 50%\n        ",n}static generateProblemDifficultyElement(e){let t=b.generateTextElement(e);return t.style="\n        width: 12%\n        ",t}static generateProblemAcceptanceElement(e){let t=b.generateTextElement(e);return t.style="\n        width: 10%\n        ",t}static generateRowElement(){let e=document.createElement("div");return e.style="\n        display:flex;\n        border-top: solid 1px black;\n        ",e}static generateTableContentElement(e){let t=document.createElement("div");for(let n=0;n<=e.length-1;n++){let r=b.generateRowElement(),a=e[n].frequency,i=e[n].id,l=e[n].difficulty,o=e[n].problemUrl,s=e[n].problemName,d=String(Math.round(100*e[n].acceptance))+"%";r.appendChild(b.generateProblemIdElement(i)),r.appendChild(b.generateProblemNameElement(s,o)),r.appendChild(b.generateProblemAcceptanceElement(d)),r.appendChild(b.generateProblemDifficultyElement(l)),r.appendChild(b.generateProblemFrequencyElement(a)),t.append(r)}return t.id="table-content",t}static generateDurationElement(e){let t=document.createElement("button");return t.innerText=e,t.style=" \n        width:auto; \n        margin-right: 2%; \n        ",t.setAttribute("duration",e),t}static generateTitleElement(e){let t=document.createElement("h2");return t.innerText=e,t.style="\n        color:black; \n        font-size:1.5em;",t}}class f{constructor(){this.tableId="table-content",this.shownData=[],this.currentlySortedBy="",this.isReverseSorted=!1,this.parentDiv=document.createElement("div"),this.durationData={}}setShownData(e){return this.shownData=e,this}buildTitleRow(e){let t=b.generateRowElement();return t.style.justifyContent="center",t.appendChild(b.generateTitleElement(e)),this.parentDiv.appendChild(t),this}addDurationData(e,t){this.durationData[e]=t}buildDurationsRow(){let e=b.generateRowElement();for(let t in this.durationData){let n=b.generateDurationElement(t);p(n),n.addEventListener("click",this.onDurationButtonClicked),e.appendChild(n)}return this.parentDiv.appendChild(e),this}buildHeaderRow(){let e=b.generateRowElement(),t=b.generateProblemIdElement("#"),n=b.generateProblemNameElement("Title","javascript:void(0)"),r=b.generateProblemAcceptanceElement("Acceptance"),a=b.generateProblemDifficultyElement("Difficulty"),i=b.generateProblemAcceptanceElement("Frequency");return p(t.firstChild),p(n.firstChild),p(r.firstChild),p(a.firstChild),p(i.firstChild),t.addEventListener("click",this.getOnHeaderClickedFunction(m).bind(this)),n.addEventListener("click",this.getOnHeaderClickedFunction(u).bind(this)),r.addEventListener("click",this.getOnHeaderClickedFunction(c).bind(this)),a.addEventListener("click",this.getOnHeaderClickedFunction(h).bind(this)),i.addEventListener("click",this.getOnHeaderClickedFunction(g).bind(this)),e.appendChild(t),e.appendChild(n),e.appendChild(r),e.appendChild(a),e.appendChild(i),this.parentDiv.appendChild(e),this}buildTable(e=u){this.shownData.sort(e),this.currentlySortedBy=e.name,this.isReverseSorted=!1;let t=b.generateTableContentElement(this.shownData);return this.parentDiv.appendChild(t),this}getResult(){return this.parentDiv}onDurationButtonClicked=e=>{this.shownData=this.durationData[e.currentTarget.getAttribute("duration")],this.swapContentTableElement(this.shownData)};getOnHeaderClickedFunction(e){return()=>{e.name==this.currentlySortedBy?(this.shownData.sort(e,!this.isReverseSorted),this.isReverseSorted=!this.isReverseSorted):(this.shownData.sort(e),this.currentlySortedBy=e.name,this.isReverseSorted=!1),this.swapContentTableElement(this.shownData)}}swapContentTableElement=e=>{null!=document.getElementById(this.tableId)&&document.getElementById(this.tableId).remove();let t=b.generateTableContentElement(e);this.parentDiv.appendChild(t)}}class y{constructor(){if(y._instance)throw new Error("Modal Manager Have been instantiated");y._instance=this,this.modal=this.createModal(),this.modalContentBox=this.createModalContentBox(),this.appendToModal(this.modalContentBox),this.appendModal(document.body)}createModalContentBox(){let e=document.createElement("div");return e.style="\n        background-color: #fefefe;\n        margin-top:1%; \n        margin-left: auto;\n        margin-right: auto;\n        padding: 20px;\n        width: 80%;\n        mid-height: 15%\n        ",e}getModalContentBox(){return this.modalContentBox}appendModal(e){e.appendChild(this.modal)}appendToModal(e){this.modal.appendChild(e)}appendToContainer(e){this.modalContentBox.appendChild(e)}createCloseButton(){let e=document.createElement("span");return e.style=" \n        float: right;\n        font-size: 28px;\n        font-weight: bold;\n        cursor: pointer;\n        ",e.innerText="x",e.addEventListener("click",resetModal),e}createModal(){let e=document.createElement("div");return e.style=" \n        display: none; \n        position: fixed; \n        z-index: 32;\n        left: 0;\n        top: 0;\n        width: 100%; \n        height: 100%; \n        overflow: auto; \n        ",window.addEventListener("click",this.onModalClicked),e.id="CompanyModal",e}openModal(){this.modal.style.display=""}closeModal(){this.modal.style.display="none"}clearModalContent(){for(;null!=this.modalContentBox.firstChild;)this.modalContentBox.firstChild.remove()}onModalClicked=e=>{e.target==this.modal&&this.resetModal()};resetModal=()=>{this.closeModal(),this.clearModalContent()}}let C=new y;class E{static API_KEY="AIzaSyDDAE3rf1fjLGKM0FUHQeTcsmS6fCQjtDs";static SHEETS_ID="1hW-bfeFKSkEDzfjaDMjDQmgsupEZz3gysXpG0mrf6QE";static TESTING_SHEETS_ID="1TJUhILyqBYsXWaPSUGwN1EvzBFeRNg1MgXH_SVqjQJo";static getUrl(e){return`https://sheets.googleapis.com/v4/spreadsheets/${E.SHEETS_ID}/values/${e}?key=${E.API_KEY}`}}class v{fetchData(){return this.fetchProblemData()}async fetchProblemData(){let e=E.getUrl("Problem!A:B"),t=await fetch(e),n=await t.json();return this.parseProblemData(n.values)}parseProblemData(e){let t={};for(let n=0;n<=e.length-1;n++){let r=e[n][0],a=e[n][1];t[r]=a}return t}}class T{constructor(){this.companyPageTableData={},this.tableDataFetched=!1,this.fetchCompanyPageTable()}fetchData(e){return 0==this.tableDataFetched?this.fetchCompanyPageTable().then((t=>this.fetchCompanyProblemData(e))):this.fetchCompanyProblemData(e)}fetchCompanyPageTable(){let e=E.getUrl("CompaniesProblem_Map!A:C");return fetch(e).then((e=>e.json())).then((e=>{this.parseCompanyPageTableData(e.values)})).then(this.tableDataFetched=!0)}fetchCompanyProblemData(e){if(e in this.companyPageTableData==0)return new Promise(((e,t)=>e(new i)));let t=`CompaniesProblem!A${this.companyPageTableData[e][0]}:I${this.companyPageTableData[e][1]}`,n=E.getUrl(t);return fetch(n).then((e=>e.json())).then((e=>this.parseCompanyProblemData(e.values)))}parseCompanyPageTableData(e){for(let t=1;t<=e.length-1;t++){let n=e[t][0],r=e[t][1],a=e[t][2];this.companyPageTableData[n]=[r,a]}return this.companyPageTableData}parseCompanyProblemData(e){let n=new i;for(let r=0;r<=e.length-1;r++){let a=e[r][2],i=e[r][1],l=e[r][7],o=e[r][6],s=e[r][4],d=e[r][5],c=e[r][0],h=e[r][3],m=new t(a,i,l,o,s,d,c,h);n.push(h,m)}return n}}class D{fetchData(e){let t=`${e}!A2:F`,n=E.getUrl(t);return fetch(n).then((e=>e.json())).then((e=>this.parseTopQuestionData(e.values)))}parseTopQuestionData(t){let n=new l;for(let r=0;r<=t.length-1;r++){let a=t[r][0],i=t[r][1],l=t[r][2],o=t[r][3],s=t[r][4],d=t[r][5],c=new e(i,a,d,s,l,o);n.push(c)}return n}}class w{constructor(){this.map={},this.mapFetched=!1}fetchData(e){return this.mapFetched?this.fetchProblemTag(e):this.getProblemTagsMap().then((t=>this.fetchProblemTag(e)))}fetchProblemTag(e){if(!(e in this.map))return new Promise;let t=`ProblemCompaniesTags!A${this.map[e][0]}:C${this.map[e][1]}`,n=E.getUrl(t);return fetch(n).then((e=>e.json())).then((e=>this.parseProblemTagData(e.values)))}parseProblemTagData(e){let t=new a;for(let r=0;r<=e.length-1;r++){let a=e[r][0],i=e[r][1],l=e[r][2],o=new n;o.duration=i,o.company=l,o.url=a,t.push(i,o)}return t}getProblemTagsMap(){let e=E.getUrl("ProblemCompaniesTags_Map!A:C");return fetch(e).then((e=>e.json())).then((e=>this.setProblemTagMap(e.values)))}setProblemTagMap(e){for(let t=0;t<=e.length-1;t++){let n=e[t][0],r=e[t][1],a=e[t][2];this.map[n]=[r,a]}}}class M{constructor(){this.elementModifier=[]}modifyElement(){this.observer=new MutationObserver((()=>{this.modifyActiveElement()})),this.modifyActiveElement(),this.addObserverToProblemTable()}injectFunctionToTargetElement(e){this.elementModifier.push(e)}modifyActiveElement=()=>{this.disconnectObserverToProblemTable();let e=document.querySelector('[role="rowgroup"]').querySelectorAll('[role="row"]');for(let t=0;t<=e.length-1;t++){let n=e[t].querySelectorAll('[role="cell"]'),r=n[1].textContent,a=n[n.length-1],i=r.split(".")[0];a.setAttribute("problem-id",String(i));for(let e=0;e<=this.elementModifier.length-1;e++)this.elementModifier[e](a)}this.addObserverToProblemTable()};disconnectObserverToProblemTable(){this.observer.disconnect()}addObserverToProblemTable(){let e=document.querySelector('[role="table"]');this.observer.observe(e,{childList:!0,subtree:!0})}}class P{constructor(e){this.elementModifier=new M,this.dataFetcher=new v}onFetchFail(){console.log("Problem Frequency Fetch Fail")}onFetchSuccess(){this.elementModifier.injectFunctionToTargetElement(P.removeProgressbarUnlockButton),this.elementModifier.injectFunctionToTargetElement(this.insertInnerProgressbar),this.elementModifier.modifyElement()}unlock(){this.dataFetcher.fetchData().then((e=>{this.problemData=e})).then(this.onFetchSuccess.bind(this)).catch(this.onFetchFail)}insertInnerProgressbar=e=>{let t=e.getAttribute("problem-id"),n=this.problemData[t];null==n&&(n=0),n*=100;let r="inner-progressbar",a=e.getElementsByClassName(r),i=e.getElementsByClassName("rounded-l-lg")[0];a.length>0&&a[0].remove(),i.setAttribute("title",`${Math.round(n)}%`);let l=function(e){let t=document.createElement("div");return t.style=`\n    background-color: ${o.COLOR_ACCENT};\n    width: ${e}%;\n    height: 0.5rem;\n    border-bottom-right-radius: 0.5rem;\n    border-top-right-radius: 0.5rem;\n    border-bottom-left-radius: 0.5rem;\n    border-top-left-radius: 0.5rem;\n    `,t}(n);l.classList.add(r),i.appendChild(l)};static removeProgressbarUnlockButton(e){let t=e.getElementsByTagName("svg")[0],n=e.getElementsByClassName("rounded-r-lg")[0],r=e.getElementsByClassName("rounded-l-lg")[0];null!=t&&t.remove(),null!=n&&n.remove(),null!=r&&(r.style="\n            border-bottom-right-radius: 0.5rem;\n            overflow: hidden; \n            border-top-right-radius: 0.5rem\n            ")}}class B{constructor(){this.elementModifier=[]}injectFunctionToTargetElement(e){this.elementModifier.push(e)}modifyElement(){this.observer=new MutationObserver((()=>{this.modifyLockedElement()})),this.modifyLockedElement(),this.addObsersverToFoldout()}addObsersverToFoldout(){let e=document.getElementsByClassName("space-y-1.5")[0];this.observer.observe(e,{childList:!0,subtree:!0})}modifyLockedElement=()=>{let e=document.getElementsByClassName("space-y-1.5")[0],t=e.children;for(let n=0;n<=t.length-2;n++){let r=t[n].getElementsByTagName("svg");if(r.length>0){t[n].getElementsByTagName("a")[0].href="javascript:void(0)";let a=t[n].textContent.replaceAll(" ","");t[n].setAttribute("item",a),t[n].style.color=o.COLOR_ACCENT,r[0].remove();let i=t[n],l=t[n].cloneNode(!0);e.replaceChild(l,i);for(let e=0;e<=this.elementModifier.length-1;e++)this.elementModifier[e](l)}}};disconnectObserverToFoldout(){this.observer.disconnect()}}class k{constructor(){this.tagButtonListener=[],this.observer=new MutationObserver((()=>{this.onDialogOpen()})),this.observerIsAttached=!1,this.data=void 0}modifyElement(){this.modifyCompaniesTagButton()}modifyCompaniesTagButton(){let e=document.getElementsByClassName("pt-3")[0].getElementsByTagName("svg")[0];if(!e)return void window.setTimeout((()=>{this.modifyCompaniesTagButton.bind(this)()}),500);let t=e.parentElement;e.remove(),t.style.backgroundColor=o.COLOR_ACCENT,t.style.color="black";for(let e=0;e<=this.tagButtonListener.length-1;e++)t.addEventListener("click",this.tagButtonListener[e]);this.addObserverToDialog()}addObserverToDialog(){let e=document.getElementsByClassName("pt-3")[0];this.observer.observe(e,{childList:!0,subtree:!0}),this.observerIsAttached=!0}disconnectObserverFromDialog(){this.observer.disconnect(),this.observerIsAttached=!1}onDialogOpen=()=>{if(!this.isDialogOpened())return;this.disconnectObserverFromDialog();let e=document.querySelectorAll('div[role="dialog"]')[0],t=e.getElementsByClassName("backdrop-blur-sm")[0];null!=t&&t.remove();let n=e.getElementsByClassName("space-x-4")[0];null!=n&&n.remove(),this.injectDataToDialog(this.data),this.addObserverToDialog()};removeAllChild(e){for(;e.firstChild;)e.firstChild.remove()}injectDataToDialog(e){if(!this.isDialogOpened)return;let t=document.querySelectorAll('div[role="dialog"]')[0].getElementsByClassName("space-y-4")[0];this.removeAllChild(t);for(let n=0;n<=e.length-1;n++){let r=this.getDiv(e[n]);t.appendChild(r)}}setData(e){this.data=e}getDiv(e){let t=document.createElement("div");return t.style="\n        margin-left:10%; \n        text-align:center; \n        ",t.textContent=e,t}isDialogOpened(){return 2==document.querySelectorAll('div[role="dialog"]').length}addTagButtonOnClickListener(e){this.tagButtonListener.push(e)}}!function(e){for(const t in e)if(window.location.href.includes(t)){let n=e[t];for(let e=0;e<=n.length-1;e++)try{(new n[e]).unlock()}catch(t){console.log(n[e].constructor.name+" Error "+t)}break}}({"https://leetcode.com/problemset":[P,class{constructor(){this.elementModifier=new s,this.dataFetcher=new T,this.containerManager=C}unlock(){this.elementModifier.injectFunctionToTargetElement(this.getFunctionToBeInjected()),this.elementModifier.modifyElement()}getFunctionToBeInjected(){return e=>{e.addEventListener("click",this.onCompanyButtonClick)}}onCompanyButtonClick=e=>{let t=e.currentTarget.getAttribute("company-name");this.dataFetcher.fetchData(t).then((e=>this.onFetchSuccess(e,t)))};onFetchSuccess(e,t){let n=this.containerManager.getModalContentBox(),r=new f(e),a=e.getKeys();for(let t=0;t<=a.length-1;t++)r.addDurationData(a[t],e.getList(a[t]));r.buildTitleRow(t),r.buildDurationsRow(),r.setShownData(e.getList(a[0])),r.buildHeaderRow(),r.buildTable(),this.containerManager.clearModalContent(),n.appendChild(r.getResult()),this.containerManager.openModal()}},class{constructor(){this.elementModifier=new B,this.dataFetcher=new D,this.containerManager=C}unlock(){this.elementModifier.injectFunctionToTargetElement(this.getFunctionToBeInjected()),this.elementModifier.modifyElement()}onTopProblemClicked=e=>{let t=e.currentTarget.getAttribute("item");this.dataFetcher.fetchData(t).then((e=>this.onFetchSuccess(e,t))).catch((e=>{console.log(this,"Fetch Error"+e)}))};onFetchSuccess(e,t){console.log(e);let n=new f;n.setShownData(e),n.buildTitleRow(t),n.buildHeaderRow(),n.buildTable();let r=n.getResult();this.containerManager.clearModalContent(),this.containerManager.getModalContentBox().appendChild(r),this.containerManager.openModal()}getFunctionToBeInjected(){return e=>{e.addEventListener("click",this.onTopProblemClicked)}}}],"https://leetcode.com/problem-list":[P],"https://leetcode.com/problems":[class{constructor(){this.elementModifier=new k,this.dataFetcher=new w}unlock(){this.elementModifier.modifyElement();let e=document.URL;this.dataFetcher.fetchData(e).then((e=>this.elementModifier.setData(e)))}}]})})();