(()=>{"use strict";class e{constructor(e,t,n,r,o,l){this.frequency=e,this.id=t,this.difficulty=n,this.problemUrl=r,this.problemName=o,this.acceptance=l}}class t extends e{constructor(e,t,n,r,o,l,a,i){super(e,t,n,r,o,l),this.companyName=a,this.duration=i}}class n{constructor(){self.data={}}getData(){return self.data}getList(e){return e in self.data?self.data[e]:[]}push(e,t){e in self.data?self.data[e].push(t):self.data[e]=[t]}}class r{static SIXMONTHS="6 months";static TWOYEARS="2 years";static ALLTIME="All time";static ONEYEAR="1 year"}class o{constructor(){this.elementModifier=[]}injectFunctionToTargetElement(e){this.elementModifier.push(e)}modifyElement(){this.modifyActiveElement(),this.addObserverToCompaniesSection()}modifyActiveElement(){let e=document.getElementsByClassName("swiper-slide-active"),t=e[e.length-1].getElementsByTagName("a");for(let e=0;e<=t.length-1;e++){let n=t[e].firstChild.firstChild.textContent.toLowerCase(),r=t[e];r.setAttribute("company-name",n),r.href="javascript:void(0)";for(let e=0;e<=this.elementModifier.length-1;e++)this.elementModifier[e](r)}}addObserverToCompaniesSection(){var e=document.getElementsByClassName("mt-0")[0];const t=new MutationObserver((()=>{this.modifyActiveElement()}));e?t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"]}):window.setTimeout((()=>{addObserverToCompaniesSection()}),500)}}class l{getValue(e,t){return e[t]}doSwap(e,t){return e>t}swap(e,t,n){let r=e[t];e[t]=e[n],e[n]=r}partition(e,t,n,r){let o=this.getValue(e,n),l=t-1;for(let a=t;a<=n-1;a++){let t=this.getValue(e,a),n=this.doSwap(t,o);r&&(n=!n),n&&(l++,this.swap(e,l,a))}return this.swap(e,l+1,n),l+1}sort(e,t=!1){this.quickSort(e,0,e.length-1,t)}quickSort(e,t,n,r){if(null==n&&null==t&&(n=e.length-1,t=0),t<n){let o=this.partition(e,t,n,r);this.quickSort(e,t,o-1,r),this.quickSort(e,o+1,n,r)}}}class a extends l{getValue(e,t){return e[t].problemName}doSwap(e,t){let n="abcdefghijklmnopqrstuvwxyz",r=e[0].toLowerCase(),o=t[0].toLowerCase();return n.indexOf(r)<n.indexOf(o)}}function i(){function e(e){let t=document.createElement("div"),n=document.createElement("h3");return n.textContent=e,n.style="color: black;\n        text-align: center;\n        ",t.appendChild(n),t}function t(t){let n=e(t);return n.style="\n       width: 5%\n       ",n}function n(e){let t=document.createElement("div");t.setAttribute("title",String(Math.round(100*e))+"%"),t.style="\n        display: flex;\n        height: 1rem;\n        overflow: hidden;\n        font-size: .75rem;\n        background-color: #e9ecef;\n        border-radius: 0.5rem;\n        margin-top: auto;\n        margin-bottom: auto;\n        width:10%; \n        ";let n=document.createElement("div");return n.style=`\n        border-radius: 0.5rem;\n        height:100%; \n        width:${100*e}%; \n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        overflow: hidden;\n        color: #fff;\n        background-color: #0d6efd;\n        `,t.appendChild(n),t}function r(e,t){let n=document.createElement("div"),r=document.createElement("a");return r.href=t,r.textContent=e,n.appendChild(r),n.style="\n        width: 50%\n        ",n}function o(t){let n=e(t);return n.style="\n        width: 12%\n        ",n}function l(t){let n=e(Math.round(100*t)+"%");return n.style="\n        width: 10%\n        ",n}function a(){let e=document.createElement("div");return e.style="\n        display:flex;\n        border-top: solid 1px black;\n        ",e}this.getTableHeaderElement=function(){let e=a(),n=t("#"),l=r("Title","#"),i=o("Acceptance"),s=o("Difficulty"),d=o("Frequency");return n.setAttribute("role","modal-header"),l.setAttribute("role","modal-header"),i.setAttribute("role","modal-header"),s.setAttribute("role","modal-header"),d.setAttribute("role","modal-header"),e.appendChild(n),e.appendChild(l),e.appendChild(i),e.appendChild(s),e.appendChild(d),e},this.getTableContentElement=function(e,...i){let s=document.createElement("div");for(let i=0;i<=e.length-1;i++){let d=a(),m=e[i].frequency,h=e[i].id,c=e[i].difficulty,u=e[i].problemUrl,p=e[i].problemName,g=e[i].acceptance;d.appendChild(t(h)),d.appendChild(r(p,u)),d.appendChild(l(g)),d.appendChild(o(c)),d.appendChild(n(m)),s.append(d)}return s.id="table-content",s}}class s{constructor(e,t){this.parentElement=t,this.tableId="table-content",this.tableData=e,this.elementGenerator=new i}generateDurationButton(e){let t=document.createElement("button");return t.innerText=e,t.style=" \n        width:5%\n        ",t.setAttribute("duration",e),t.addEventListener("click",this.onDurationButtonClicked),t}generateRowDiv(){let e=document.createElement("div");return e.style="\n        display:flex;\n        border-top: solid 1px black;\n        ",e}generateDurationButtons(){let e=this.generateRowDiv();return e.appendChild(this.generateDurationButton(r.SIXMONTHS)),e.appendChild(this.generateDurationButton(r.ONEYEAR)),e.appendChild(this.generateDurationButton(r.TWOYEARS)),e.appendChild(this.generateDurationButton(r.ALLTIME)),e}appendToParent(){this.parentElement.appendChild(this.getContentElement())}getContentElement(){let e=document.createElement("div"),t=this.tableData.getList(r.ALLTIME);(new a).sort(t,!0),console.log(t);let n=this.elementGenerator.getTableHeaderElement(),o=this.elementGenerator.getTableContentElement(t);return e.appendChild(this.generateDurationButtons()),e.appendChild(n),e.appendChild(o),e}onDurationButtonClicked=e=>{this.swapTable(e.currentTarget.getAttribute("duration"))};swapTable=e=>{null!=document.getElementById(this.tableId)&&document.getElementById(this.tableId).remove();let t=this.tableData.getList(e),n=this.elementGenerator.getTableContentElement(t);this.parentElement.appendChild(n)}}class d{constructor(){this.modal=this.createModal(),this.modalContentBox=this.createModalContentBox(),this.appendToModal(this.modalContentBox),this.appendModal(document.body)}createModalContentBox(){let e=document.createElement("div");return e.style="\n        background-color: #fefefe;\n        margin-top:1%; \n        margin-left: auto;\n        margin-right: auto;\n        padding: 20px;\n        width: 80%;\n        mid-height: 15%\n        ",e}getModalContentBox(){return this.modalContentBox}appendModal(e){e.appendChild(this.modal)}appendToModal(e){this.modal.appendChild(e)}appendToContainer(e){this.modalContentBox.appendChild(e)}createCloseButton(){let e=document.createElement("span");return e.style=" \n        float: right;\n        font-size: 28px;\n        font-weight: bold;\n        cursor: pointer;\n        ",e.innerText="x",e.addEventListener("click",resetModal),e}createModal(){let e=document.createElement("div");return e.style=" \n        display: none; \n        position: fixed; \n        z-index: 32;\n        left: 0;\n        top: 0;\n        width: 100%; \n        height: 100%; \n        overflow: auto; \n        ",window.addEventListener("click",this.onModalClicked),e.id="CompanyModal",e}openModal(){this.modal.style.display=""}closeModal(){this.modal.style.display="none"}clearModalContent(){for(;null!=this.modalContentBox.firstChild;)this.modalContentBox.firstChild.remove()}onModalClicked=e=>{e.target==this.modal&&this.resetModal()};resetModal=()=>{this.closeModal(),this.clearModalContent()}}class m{constructor(){this.elementModifier=[]}modifyElement(){this.observer=new MutationObserver((()=>{this.modifyActiveElement()})),this.modifyActiveElement(),this.addObserverToProblemTable()}injectFunctionToTargetElement(e){this.elementModifier.push(e)}modifyActiveElement=()=>{this.disconnectObserverToProblemTable();let e=document.querySelector('[role="rowgroup"]').querySelectorAll('[role="row"]');for(let t=0;t<=e.length-1;t++){let n=e[t].querySelectorAll('[role="cell"]'),r=n[1].textContent,o=n[n.length-1],l=r.split(".")[0];o.setAttribute("problem-id",String(l));for(let e=0;e<=this.elementModifier.length-1;e++)this.elementModifier[e](o)}this.addObserverToProblemTable()};insertInnerProgressbar(e,t){let n="inner-progressbar",r=e.getElementsByClassName(n),o=e.getElementsByClassName("rounded-l-lg")[0];r.length>0&&r[0].remove(),o.setAttribute("title",`${Math.round(t)}%`);let l=document.createElement("div");l.style=`\n        background-color: red;\n        width: ${t}%;\n        height: 0.5rem;\n        border-bottom-right-radius: 0.5rem;\n        border-top-right-radius: 0.5rem;\n        border-bottom-left-radius: 0.5rem;\n        border-top-left-radius: 0.5rem;\n        `,l.classList.add(n),o.appendChild(l)}disconnectObserverToProblemTable(){this.observer.disconnect()}addObserverToProblemTable(){let e=document.querySelector('[role="table"]');this.observer.observe(e,{childList:!0,subtree:!0})}removeProgressbarUnlockButton(e){let t=e.getElementsByTagName("svg")[0],n=e.getElementsByClassName("rounded-r-lg")[0],r=e.getElementsByClassName("rounded-l-lg")[0];null!=t&&t.remove(),null!=n&&n.remove(),null!=r&&(r.style="\n            border-bottom-right-radius: 0.5rem;\n            overflow: hidden; \n            border-top-right-radius: 0.5rem\n            ")}}var h=new class{constructor(){this.sheetsId="1hW-bfeFKSkEDzfjaDMjDQmgsupEZz3gysXpG0mrf6QE",this.api_key="AIzaSyDDAE3rf1fjLGKM0FUHQeTcsmS6fCQjtDs",this.companyPageTableData={},this.setCompanyPageTableData()}getProblemData(){return this.fetchProblemData()}fetchProblemData(){let e=this.getUrl("Problem!A:B");var t=new XMLHttpRequest;t.open("GET",e,!1),t.send();let n=JSON.parse(t.responseText).values;return this.parseProblemData(n)}parseProblemData(e){let t={};for(let n=0;n<=e.length-1;n++){let r=e[n][0],o=e[n][1];t[r]=o}return t}getUrl(e){return`https://sheets.googleapis.com/v4/spreadsheets/${this.sheetsId}/values/${e}?key=${this.api_key}`}fetchPageTable(){let e=this.getUrl("CompaniesProblem_Map!A:C");var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(),JSON.parse(t.responseText)}setCompanyPageTableData(){let e=this.fetchPageTable().values;for(let t=1;t<=e.length-1;t++){let n=e[t][0],r=e[t][1],o=e[t][2];this.companyPageTableData[n]=[r,o]}}haveData(e){return e in this.companyPageTableData}getCompanyProblemData(e){let t=this.fetchCompanyProblemData(e);return this.parseCompanyProblemData(t)}fetchCompanyProblemData(e){if(!this.haveData(e))return[];let t=`CompaniesProblem!A${this.companyPageTableData[e][0]}:I${this.companyPageTableData[e][1]}`,n=this.getUrl(t);var r=new XMLHttpRequest;return r.open("GET",n,!1),r.send(),JSON.parse(r.responseText).values}parseCompanyProblemData(e){let r=new n;for(let n=0;n<=e.length-1;n++){let o=e[n][2],l=e[n][1],a=e[n][7],i=e[n][6],s=e[n][4],d=e[n][5],m=e[n][0],h=e[n][3],c=new t(o,l,a,i,s,d,m,h);r.push(h,c)}return r}};let c=new class{constructor(e){this.elementModifier=new m,this.dataFetcher=e,this.problemData=this.dataFetcher.getProblemData()}unlock(){this.elementModifier.injectFunctionToTargetElement(this.removeProgressbarUnlockButton),this.elementModifier.injectFunctionToTargetElement(this.insertInnerProgressbar),this.elementModifier.modifyElement()}insertInnerProgressbar=e=>{let t=e.getAttribute("problem-id"),n=this.problemData[t];null==n&&(n=0),n*=100;let r="inner-progressbar",o=e.getElementsByClassName(r),l=e.getElementsByClassName("rounded-l-lg")[0];o.length>0&&o[0].remove(),l.setAttribute("title",`${Math.round(n)}%`);let a=document.createElement("div");a.style=`\n        background-color: red;\n        width: ${n}%;\n        height: 0.5rem;\n        border-bottom-right-radius: 0.5rem;\n        border-top-right-radius: 0.5rem;\n        border-bottom-left-radius: 0.5rem;\n        border-top-left-radius: 0.5rem;\n        `,a.classList.add(r),l.appendChild(a)};removeProgressbarUnlockButton(e){let t=e.getElementsByTagName("svg")[0],n=e.getElementsByClassName("rounded-r-lg")[0],r=e.getElementsByClassName("rounded-l-lg")[0];null!=t&&t.remove(),null!=n&&n.remove(),null!=r&&(r.style="\n            border-bottom-right-radius: 0.5rem;\n            overflow: hidden; \n            border-top-right-radius: 0.5rem\n            ")}}(h);c.unlock();let u=new class{constructor(e){this.elementModifier=new o,this.dataFetcher=e,this.containerManager=new d}unlock(){this.elementModifier.injectFunctionToTargetElement(this.getFunctionToBeInjected()),this.elementModifier.modifyElement()}getFunctionToBeInjected(){return e=>{e.addEventListener("click",this.onCompanyButtonClick)}}onCompanyButtonClick=e=>{let t=e.currentTarget.getAttribute("company-name"),n=this.dataFetcher.getCompanyProblemData(t);new s(n,this.containerManager.getModalContentBox()).appendToParent(),this.containerManager.openModal()}}(h);u.unlock()})();