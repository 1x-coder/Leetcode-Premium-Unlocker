(()=>{"use strict";class e{constructor(e,t,n,a,r,i){this.frequency=e,this.id=t,this.difficulty=n,this.problemUrl=a,this.problemName=r,this.acceptance=i}}class t extends e{constructor(e,t,n,a,r,i,l,o){super(e,t,n,a,r,i),this.companyName=l,this.duration=o}}class n{constructor(e,t,n){this.url=n,this.duration=e,this.company=t}}class a{constructor(){this.data={}}getKeys(){return Object.keys(this.data)}getList(e){return e in this.data?this.data[e]:[]}}class r extends a{push(e,t){if(e in this.data)return void this.data[e].push(t);let n=[];n.push(t),this.data[e]=n}}class i extends a{push(e,t){if(e in this.data)return void this.data[e].push(t);let n=new l;n.push(t),this.data[e]=n}}class l extends Array{sort(e,t=!1){(new e).sort(this,t)}}class o{static COLOR_ACCENT="#62C555"}class s{constructor(){this.elementModifier=[]}injectFunctionToTargetElement(e){this.elementModifier.push(e)}modifyElement(){this.modifyActiveElement(),this.addObserverToCompaniesSection()}modifyActiveElement(){let e=document.getElementsByClassName("swiper-slide-active"),t=e[e.length-1].getElementsByTagName("a");for(let e=0;e<=t.length-1;e++){let n=t[e].href.split("/"),a=n[n.length-1],r=t[e];null==r.getAttribute("company-name")&&r.setAttribute("company-name",a),r.href="javascript:void(0)";for(let e=0;e<=this.elementModifier.length-1;e++)this.elementModifier[e](r);this.onModifyElementSuccess(r)}}onModifyElementSuccess(e){let t=e.getElementsByTagName("span");t[t.length-1].style.backgroundColor=o.COLOR_ACCENT}addObserverToCompaniesSection(){var e=document.getElementsByClassName("mt-0")[0];const t=new MutationObserver((()=>{this.modifyActiveElement()}));e?t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"]}):window.setTimeout((()=>{addObserverToCompaniesSection()}),500)}}class d{getValue(e,t){return e[t]}doSwap(e,t){return e>t}swap(e,t,n){let a=e[t];e[t]=e[n],e[n]=a}partition(e,t,n,a){let r=this.getValue(e,n),i=t-1;for(let l=t;l<=n-1;l++){let t=this.getValue(e,l),n=this.doSwap(t,r);a&&(n=!n),n&&(i++,this.swap(e,i,l))}return this.swap(e,i+1,n),i+1}sort(e,t=!1){this.quickSort(e,0,e.length-1,t)}quickSort(e,t,n,a){if(null==n&&null==t&&(n=e.length-1,t=0),t<n){let r=this.partition(e,t,n,a);this.quickSort(e,t,r-1,a),this.quickSort(e,r+1,n,a)}}}class c extends d{getValue(e,t){return e[t].acceptance}}class h extends d{getValue(e,t){return e[t].difficulty}doSwap(e,t){let n=["Easy","Medium","Hard"];return n.indexOf(e)<n.indexOf(t)}}class m extends d{getValue(e,t){return parseInt(e[t].id)}}class u extends d{getValue(e,t){return e[t].problemName}doSwap(e,t){let n="abcdefghijklmnopqrstuvwxyz",a=e[0].toLowerCase(),r=t[0].toLowerCase();return n.indexOf(a)<n.indexOf(r)}}class g extends d{getValue(e,t){return e[t].frequency}}class p{static generateTextElement(e){let t=document.createElement("div"),n=document.createElement("h3");return n.textContent=e,n.style="color: black;\n        text-align: center;\n        ",t.appendChild(n),t}static generateProblemIdElement(e){let t=p.generateTextElement(e);return t.style="\n       width: 5%\n       ",t}static generateProblemFrequencyElement(e){let t=document.createElement("div");t.setAttribute("title",String(Math.round(100*e))+"%"),t.style="\n        display: flex;\n        height: 1rem;\n        overflow: hidden;\n        font-size: .75rem;\n        background-color: #e9ecef;\n        border-radius: 0.5rem;\n        margin-top: auto;\n        margin-bottom: auto;\n        width:10%; \n        ";let n=document.createElement("div");return n.style=`\n        border-radius: 0.5rem;\n        height:100%; \n        width:${100*e}%; \n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        overflow: hidden;\n        color: #fff;\n        background-color: #0d6efd;\n        `,t.appendChild(n),t}static generateProblemNameElement(e,t){let n=document.createElement("div"),a=document.createElement("a");return a.href=t,a.textContent=e,a.style="\n            color:black; \n        ",n.appendChild(a),n.style="\n        width: 50%\n        ",n}static generateProblemDifficultyElement(e){let t=p.generateTextElement(e);return t.style="\n        width: 12%\n        ",t}static generateProblemAcceptanceElement(e){let t=p.generateTextElement(e);return t.style="\n        width: 10%\n        ",t}static generateRowElement(){let e=document.createElement("div");return e.style="\n        display:flex;\n        border-top: solid 1px black;\n        ",e}static generateTableContentElement(e){let t=document.createElement("div");for(let n=0;n<=e.length-1;n++){let a=p.generateRowElement(),r=e[n].frequency,i=e[n].id,l=e[n].difficulty,o=e[n].problemUrl,s=e[n].problemName,d=String(Math.round(100*e[n].acceptance))+"%";a.appendChild(p.generateProblemIdElement(i)),a.appendChild(p.generateProblemNameElement(s,o)),a.appendChild(p.generateProblemAcceptanceElement(d)),a.appendChild(p.generateProblemDifficultyElement(l)),a.appendChild(p.generateProblemFrequencyElement(r)),t.append(a)}return t.id="table-content",t}static generateDurationElement(e){let t=document.createElement("button");return t.innerText=e,t.style=" \n        width:auto; \n        margin-right: 2%; \n        ",t.setAttribute("duration",e),t}static generateTitleElement(e){let t=document.createElement("h2");return t.innerText=e,t.style="\n        color:black; \n        font-size:1.5em;",t}}function b(e){e.style.textDecoration="underline",e.style.cursor="pointer",e.style.fontWeight="bold",e.style.color="blue"}class f{constructor(){this.tableId="table-content",this.shownData=[],this.currentlySortedBy="",this.isReverseSorted=!1,this.parentDiv=document.createElement("div"),this.durationData={}}setShownData(e){return this.shownData=e,this}buildTitleRow(e){let t=p.generateRowElement();return t.style.justifyContent="center",t.appendChild(p.generateTitleElement(e)),this.parentDiv.appendChild(t),this}addDurationData(e,t){this.durationData[e]=t}buildDurationsRow(){let e=p.generateRowElement();for(let t in this.durationData){let n=p.generateDurationElement(t);b(n),n.addEventListener("click",this.onDurationButtonClicked),e.appendChild(n)}return this.parentDiv.appendChild(e),this}buildHeaderRow(){let e=p.generateRowElement(),t=p.generateProblemIdElement("#"),n=p.generateProblemNameElement("Title","javascript:void(0)"),a=p.generateProblemAcceptanceElement("Acceptance"),r=p.generateProblemDifficultyElement("Difficulty"),i=p.generateProblemAcceptanceElement("Frequency");return b(t.firstChild),b(n.firstChild),b(a.firstChild),b(r.firstChild),b(i.firstChild),t.addEventListener("click",this.getOnHeaderClickedFunction(m).bind(this)),n.addEventListener("click",this.getOnHeaderClickedFunction(u).bind(this)),a.addEventListener("click",this.getOnHeaderClickedFunction(c).bind(this)),r.addEventListener("click",this.getOnHeaderClickedFunction(h).bind(this)),i.addEventListener("click",this.getOnHeaderClickedFunction(g).bind(this)),e.appendChild(t),e.appendChild(n),e.appendChild(a),e.appendChild(r),e.appendChild(i),this.parentDiv.appendChild(e),this}buildTable(e=u){this.shownData.sort(e),this.currentlySortedBy=e.name,this.isReverseSorted=!1;let t=p.generateTableContentElement(this.shownData);return this.parentDiv.appendChild(t),this}getResult(){return this.parentDiv}onDurationButtonClicked=e=>{this.shownData=this.durationData[e.currentTarget.getAttribute("duration")],this.swapContentTableElement(this.shownData)};getOnHeaderClickedFunction(e){return()=>{e.name==this.currentlySortedBy?(this.shownData.sort(e,!this.isReverseSorted),this.isReverseSorted=!this.isReverseSorted):(this.shownData.sort(e),this.currentlySortedBy=e.name,this.isReverseSorted=!1),this.swapContentTableElement(this.shownData)}}swapContentTableElement=e=>{null!=document.getElementById(this.tableId)&&document.getElementById(this.tableId).remove();let t=p.generateTableContentElement(e);this.parentDiv.appendChild(t)}}class y{constructor(){if(y._instance)throw new Error("Modal Manager Have been instantiated");y._instance=this,this.modal=this.createModal(),this.modalContentBox=this.createModalContentBox(),this.appendToModal(this.modalContentBox),this.appendModal(document.body)}createModalContentBox(){let e=document.createElement("div");return e.style="\n        background-color: #fefefe;\n        margin-top:1%; \n        margin-left: auto;\n        margin-right: auto;\n        padding: 20px;\n        width: 80%;\n        mid-height: 15%\n        ",e}getModalContentBox(){return this.modalContentBox}appendModal(e){e.appendChild(this.modal)}appendToModal(e){this.modal.appendChild(e)}appendToContainer(e){this.modalContentBox.appendChild(e)}createCloseButton(){let e=document.createElement("span");return e.style=" \n        float: right;\n        font-size: 28px;\n        font-weight: bold;\n        cursor: pointer;\n        ",e.innerText="x",e.addEventListener("click",resetModal),e}createModal(){let e=document.createElement("div");return e.style=" \n        display: none; \n        position: fixed; \n        z-index: 32;\n        left: 0;\n        top: 0;\n        width: 100%; \n        height: 100%; \n        overflow: auto; \n        ",window.addEventListener("click",this.onModalClicked),e.id="CompanyModal",e}openModal(){this.modal.style.display=""}closeModal(){this.modal.style.display="none"}clearModalContent(){for(;null!=this.modalContentBox.firstChild;)this.modalContentBox.firstChild.remove()}onModalClicked=e=>{e.target==this.modal&&this.resetModal()};resetModal=()=>{this.closeModal(),this.clearModalContent()}}let C=new y;class E{static API_KEY="AIzaSyDDAE3rf1fjLGKM0FUHQeTcsmS6fCQjtDs";static SHEETS_ID="1hW-bfeFKSkEDzfjaDMjDQmgsupEZz3gysXpG0mrf6QE";static TESTING_SHEETS_ID="1TJUhILyqBYsXWaPSUGwN1EvzBFeRNg1MgXH_SVqjQJo";static getUrl(e){return`https://sheets.googleapis.com/v4/spreadsheets/${E.SHEETS_ID}/values/${e}?key=${E.API_KEY}`}}class T{fetchData(){return this.fetchProblemData()}async fetchProblemData(){let e=E.getUrl("Problem!A:B"),t=await fetch(e),n=await t.json();return this.parseProblemData(n.values)}parseProblemData(e){let t={};for(let n=0;n<=e.length-1;n++){let a=e[n][0],r=e[n][1];t[a]=r}return t}}class v{constructor(){this.companyPageTableData={},this.tableDataFetched=!1,this.fetchCompanyPageTable()}fetchData(e){return 0==this.tableDataFetched?this.fetchCompanyPageTable().then((t=>this.fetchCompanyProblemData(e))):this.fetchCompanyProblemData(e)}fetchCompanyPageTable(){let e=E.getUrl("CompaniesProblem_Map!A:C");return fetch(e).then((e=>e.json())).then((e=>{this.parseCompanyPageTableData(e.values)})).then(this.tableDataFetched=!0)}fetchCompanyProblemData(e){if(e in this.companyPageTableData==0)return new Promise(((e,t)=>e(new i)));let t=`CompaniesProblem!A${this.companyPageTableData[e][0]}:I${this.companyPageTableData[e][1]}`,n=E.getUrl(t);return fetch(n).then((e=>e.json())).then((e=>this.parseCompanyProblemData(e.values)))}parseCompanyPageTableData(e){for(let t=1;t<=e.length-1;t++){let n=e[t][0],a=e[t][1],r=e[t][2];this.companyPageTableData[n]=[a,r]}return this.companyPageTableData}parseCompanyProblemData(e){let n=new i;for(let a=0;a<=e.length-1;a++){let r=e[a][2],i=e[a][1],l=e[a][7],o=e[a][6],s=e[a][4],d=e[a][5],c=e[a][0],h=e[a][3],m=new t(r,i,l,o,s,d,c,h);n.push(h,m)}return n}}class w{fetchData(e){let t=`${e}!A2:F`,n=E.getUrl(t);return fetch(n).then((e=>e.json())).then((e=>this.parseTopQuestionData(e.values)))}parseTopQuestionData(t){let n=new l;for(let a=0;a<=t.length-1;a++){let r=t[a][0],i=t[a][1],l=t[a][2],o=t[a][3],s=t[a][4],d=t[a][5],c=new e(i,r,d,s,l,o);n.push(c)}return n}}class M{constructor(){this.map={},this.mapFetched=!1}fetchData(e){return this.mapFetched?this.fetchProblemTag(e):this.getProblemTagsMap().then((t=>this.fetchProblemTag(e)))}fetchProblemTag(e){if(!(e in this.map))return new Promise(((e,t)=>e(new r)));let t=`ProblemCompaniesTags!A${this.map[e][0]}:C${this.map[e][1]}`,n=E.getUrl(t);return fetch(n).then((e=>e.json())).then((e=>this.parseProblemTagData(e.values)))}parseProblemTagData(e){let t=new r;for(let a=0;a<=e.length-1;a++){let r=e[a][0],i=e[a][1],l=e[a][2],o=new n;o.duration=i,o.company=l,o.url=r,t.push(i,o)}return t}getProblemTagsMap(){let e=E.getUrl("ProblemCompaniesTags_Map!A:C");return fetch(e).then((e=>e.json())).then((e=>this.setProblemTagMap(e.values)))}setProblemTagMap(e){for(let t=0;t<=e.length-1;t++){let n=e[t][0],a=e[t][1],r=e[t][2];this.map[n]=[a,r]}}}class D{constructor(){this.elementModifier=[]}modifyElement(){this.observer=new MutationObserver((()=>{this.modifyActiveElement()})),this.modifyActiveElement(),this.addObserverToProblemTable()}injectFunctionToTargetElement(e){this.elementModifier.push(e)}modifyActiveElement=()=>{this.disconnectObserverToProblemTable();let e=document.querySelector('[role="rowgroup"]').querySelectorAll('[role="row"]');for(let t=0;t<=e.length-1;t++){let n=e[t].querySelectorAll('[role="cell"]'),a=n[1].textContent,r=n[n.length-1],i=a.split(".")[0];r.setAttribute("problem-id",String(i));for(let e=0;e<=this.elementModifier.length-1;e++)this.elementModifier[e](r)}this.addObserverToProblemTable()};disconnectObserverToProblemTable(){this.observer.disconnect()}addObserverToProblemTable(){let e=document.querySelector('[role="table"]');this.observer.observe(e,{childList:!0,subtree:!0})}}class P{constructor(){this.elementModifier=new D,this.dataFetcher=new T}onFetchSuccess(){this.elementModifier.injectFunctionToTargetElement(P.removeProgressbarUnlockButton),this.elementModifier.injectFunctionToTargetElement(this.insertInnerProgressbar),this.elementModifier.modifyElement()}unlock(){this.dataFetcher.fetchData().then((e=>{this.problemData=e})).then(this.onFetchSuccess.bind(this)).catch((e=>console.log(this,e)))}insertInnerProgressbar=e=>{let t=e.getAttribute("problem-id"),n=this.problemData[t];null==n&&(n=0),n*=100;let a="inner-progressbar",r=e.getElementsByClassName(a),i=e.getElementsByClassName("rounded-l-lg")[0];r.length>0&&r[0].remove(),i.setAttribute("title",`${Math.round(n)}%`);let l=function(e){let t=document.createElement("div");return t.style=`\n    background-color: ${o.COLOR_ACCENT};\n    width: ${e}%;\n    height: 0.5rem;\n    border-bottom-right-radius: 0.5rem;\n    border-top-right-radius: 0.5rem;\n    border-bottom-left-radius: 0.5rem;\n    border-top-left-radius: 0.5rem;\n    `,t}(n);l.classList.add(a),i.appendChild(l)};static removeProgressbarUnlockButton(e){let t=e.getElementsByTagName("svg")[0],n=e.getElementsByClassName("rounded-r-lg")[0],a=e.getElementsByClassName("rounded-l-lg")[0];null!=t&&t.remove(),null!=n&&n.remove(),null!=a&&(a.style="\n            border-bottom-right-radius: 0.5rem;\n            overflow: hidden; \n            border-top-right-radius: 0.5rem\n            ")}}class k{constructor(){this.elementModifier=[]}injectFunctionToTargetElement(e){this.elementModifier.push(e)}modifyElement(){this.observer=new MutationObserver((()=>{this.modifyLockedElement()})),this.modifyLockedElement(),this.addObsersverToFoldout()}addObsersverToFoldout(){let e=document.getElementsByClassName("space-y-1.5")[0];this.observer.observe(e,{childList:!0,subtree:!0})}modifyLockedElement=()=>{let e=document.getElementsByClassName("space-y-1.5")[0],t=e.children;for(let n=0;n<=t.length-2;n++){let a=t[n].getElementsByTagName("svg");if(a.length>0){t[n].getElementsByTagName("a")[0].href="javascript:void(0)";let r=t[n].textContent.replaceAll(" ","");t[n].setAttribute("item",r),t[n].style.color=o.COLOR_ACCENT,a[0].remove();let i=t[n],l=t[n].cloneNode(!0);e.replaceChild(l,i);for(let e=0;e<=this.elementModifier.length-1;e++)this.elementModifier[e](l)}}};disconnectObserverToFoldout(){this.observer.disconnect()}}class B{constructor(){this.tagButtonListener=[]}modifyElement(){this.modifyCompaniesTagButton()}modifyCompaniesTagButton(){let e=document.getElementsByClassName("pt-3")[0].getElementsByTagName("svg")[0];if(!e)return void window.setTimeout((()=>{this.modifyCompaniesTagButton.bind(this)()}),500);let t=e.parentElement;e.remove();let n=t.cloneNode(!0);t.parentElement.replaceChild(n,t),n.style.backgroundColor=o.COLOR_ACCENT,n.style.color="black";for(let e=0;e<=this.tagButtonListener.length-1;e++)n.addEventListener("click",this.tagButtonListener[e])}addTagButtonOnClickListener(e){this.tagButtonListener.push(e)}}class x{static generateHeader(e){let t=document.createElement("h3");return t.style.color="black",t.textContent=e,t}static generateTag(e){let t=document.createElement("div");return t.style="\n        min-width:7%;\n        margin-right: 3%;\n        max-width:15%; \n        color:black; \n        text-align:center; \n        border-radius: 21px;\n        ",t.textContent=e,t}static generateRow(){let e=document.createElement("div");return e.style="\n        display:flex;\n        flex-wrap: wrap;\n        border-top: solid 1px black;\n\n        ",e}}class S{constructor(){this.parentDiv=document.createElement("div")}buildHeader(e){let t=x.generateRow();return t.style.justifyContent="center",t.appendChild(x.generateHeader(e)),this.parentDiv.appendChild(t),this}getResult(){return this.parentDiv}buildTagsBox(e){let t=x.generateRow();for(let n=0;n<=e.length-1;n++){let a=x.generateTag(e[n].company);t.appendChild(a)}return this.parentDiv.appendChild(t),this}}!function(e){for(const t in e)if(window.location.href.includes(t)){let n=e[t];for(let e=0;e<=n.length-1;e++)try{(new n[e]).unlock()}catch(t){console.log(n[e].constructor.name+" Error "+t)}break}}({"https://leetcode.com/problemset":[P,class{constructor(){this.elementModifier=new s,this.dataFetcher=new v,this.containerManager=C}unlock(){this.elementModifier.injectFunctionToTargetElement(this.getFunctionToBeInjected()),this.elementModifier.modifyElement()}getFunctionToBeInjected(){return e=>{e.addEventListener("click",this.onCompanyButtonClick)}}onCompanyButtonClick=e=>{let t=e.currentTarget.getAttribute("company-name");this.dataFetcher.fetchData(t).then((e=>this.onFetchSuccess(e,t)))};onFetchSuccess(e,t){let n=this.containerManager.getModalContentBox(),a=new f(e),r=e.getKeys();for(let t=0;t<=r.length-1;t++)a.addDurationData(r[t],e.getList(r[t]));a.buildTitleRow(t),a.buildDurationsRow(),a.setShownData(e.getList(r[0])),a.buildHeaderRow(),a.buildTable(),this.containerManager.clearModalContent(),n.appendChild(a.getResult()),this.containerManager.openModal()}},class{constructor(){this.elementModifier=new k,this.dataFetcher=new w,this.containerManager=C}unlock(){this.elementModifier.injectFunctionToTargetElement(this.getFunctionToBeInjected()),this.elementModifier.modifyElement()}onTopProblemClicked=e=>{let t=e.currentTarget.getAttribute("item");this.dataFetcher.fetchData(t).then((e=>this.onFetchSuccess(e,t))).catch((e=>{console.log(this,"Fetch Error"+e)}))};onFetchSuccess(e,t){console.log(e);let n=new f;n.setShownData(e),n.buildTitleRow(t),n.buildHeaderRow(),n.buildTable();let a=n.getResult();this.containerManager.clearModalContent(),this.containerManager.getModalContentBox().appendChild(a),this.containerManager.openModal()}getFunctionToBeInjected(){return e=>{e.addEventListener("click",this.onTopProblemClicked)}}}],"https://leetcode.com/problem-list":[P],"https://leetcode.com/problems":[class{constructor(){this.elementModifier=new B,this.dataFetcher=new M,this.containerManager=C}onTagButtonClicked=()=>{let e=document.URL.split("/")[4];this.dataFetcher.fetchData(e).then((e=>this.onFetchSucces(e))).catch((e=>{console.log(this,e)}))};unlock(){this.elementModifier.modifyElement(),this.elementModifier.addTagButtonOnClickListener(this.onTagButtonClicked)}onFetchSucces=e=>{let t=e.getKeys(),n=new S;for(let a=0;a<=t.length-1;a++)n.buildHeader(t[a]),n.buildTagsBox(e.getList(t[a]));let a=this.containerManager.getModalContentBox();this.containerManager.clearModalContent(),a.appendChild(n.getResult()),this.containerManager.openModal()}}]})})();