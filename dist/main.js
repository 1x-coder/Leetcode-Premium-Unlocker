(()=>{"use strict";class e{constructor(e,t){this.name=e,this.button=t}}class t{constructor(e,t,n,a,r,o){this.frequency=e,this.id=t,this.difficulty=n,this.problemUrl=a,this.problemName=r,this.acceptance=o}}class n extends t{constructor(e,t,n,a,r,o,l,i){super(e,t,n,a,r,o),this.companyName=l,this.duration=i}}class a{constructor(){self.data={}}getData(){return self.data}getList(e){return e in self.data?self.data[e]:[]}appendData(e,t){e in self.data?self.data[e].push(t):self.data[e]=[t]}}class r{static SIXMONTHS="6 months";static TWOYEARS="2 years";static ALLTIME="All time";static ONEYEAR="1 year"}class o{constructor(){this.sheetsId="1hW-bfeFKSkEDzfjaDMjDQmgsupEZz3gysXpG0mrf6QE",this.api_key="AIzaSyDDAE3rf1fjLGKM0FUHQeTcsmS6fCQjtDs",this.companyPageTableData={},this.setCompanyPageTableData()}getProblemData(){return this.fetchProblemData()}fetchProblemData(){let e=this.getUrl("Problem!A:B");var t=new XMLHttpRequest;t.open("GET",e,!1),t.send();let n=JSON.parse(t.responseText).values;return this.parseProblemData(n)}parseProblemData(e){let t={};for(let n=0;n<=e.length-1;n++){let a=e[n][0],r=e[n][1];t[a]=r}return t}getUrl(e){return`https://sheets.googleapis.com/v4/spreadsheets/${this.sheetsId}/values/${e}?key=${this.api_key}`}fetchPageTable(){let e=this.getUrl("CompaniesProblem_Map!A:C");var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(),JSON.parse(t.responseText)}setCompanyPageTableData(){let e=this.fetchPageTable().values;for(let t=1;t<=e.length-1;t++){let n=e[t][0],a=e[t][1],r=e[t][2];this.companyPageTableData[n]=[a,r]}}haveData(e){return e in this.companyPageTableData}getCompanyProblemData(e){let t=this.fetchCompanyProblemData(e);return this.parseCompanyProblemData(t)}fetchCompanyProblemData(e){if(!this.haveData(e))return[];let t=`CompaniesProblem!A${this.companyPageTableData[e][0]}:I${this.companyPageTableData[e][1]}`,n=this.getUrl(t);var a=new XMLHttpRequest;return a.open("GET",n,!1),a.send(),JSON.parse(a.responseText).values}parseCompanyProblemData(e){let t=new a;for(let a=0;a<=e.length-1;a++){let r=e[a][2],o=e[a][1],l=e[a][7],i=e[a][6],s=e[a][4],d=e[a][5],h=e[a][0],c=e[a][3],m=new n(r,o,l,i,s,d,h,c);t.appendData(c,m)}return t}}function l(){function e(e){let t=document.createElement("div"),n=document.createElement("h3");return n.textContent=e,n.style="color: black;\n        text-align: center;\n        ",t.appendChild(n),t}function t(t){let n=e(t);return n.style="\n       width: 5%\n       ",n}function n(e){let t=document.createElement("div");t.setAttribute("title",String(Math.round(100*e))+"%"),t.style="\n        display: flex;\n        height: 1rem;\n        overflow: hidden;\n        font-size: .75rem;\n        background-color: #e9ecef;\n        border-radius: 0.25rem;\n        margin-top: auto;\n        margin-bottom: auto;\n        width:10%; \n        ";let n=document.createElement("div");return n.style=`\n        height:100%; \n        width:${100*e}%; \n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        overflow: hidden;\n        color: #fff;\n        background-color: #0d6efd;\n        `,t.appendChild(n),t}function a(e,t){let n=document.createElement("div"),a=document.createElement("a");return a.href=t,a.textContent=e,n.appendChild(a),n.style="\n        width: 50%\n        ",n}function r(t){let n=e(t);return n.style="\n        width: 12%\n        ",n}function o(t){let n=e(Math.round(100*t)+"%");return n.style="\n        width: 10%\n        ",n}function l(){let e=document.createElement("div");return e.style="\n        display:flex;\n        border-top: solid 1px black;\n        ",e}this.getTableHeaderElement=function(){let e=l(),n=t("#"),o=a("Title","#"),i=r("Acceptance"),s=r("Difficulty"),d=r("Frequency");return n.setAttribute("role","modal-header"),o.setAttribute("role","modal-header"),i.setAttribute("role","modal-header"),s.setAttribute("role","modal-header"),d.setAttribute("role","modal-header"),e.appendChild(n),e.appendChild(o),e.appendChild(i),e.appendChild(s),e.appendChild(d),e},this.getTableContentElement=function(e,...i){let s=document.createElement("div");for(let i=0;i<=e.length-1;i++){let d=l(),h=e[i].frequency,c=e[i].id,m=e[i].difficulty,u=e[i].problemUrl,p=e[i].problemName,b=e[i].acceptance;d.appendChild(t(c)),d.appendChild(a(p,u)),d.appendChild(o(b)),d.appendChild(r(m)),d.appendChild(n(h)),s.append(d)}return s.id="table-content",s}}class i{constructor(e,t){this.parentElement=t,this.tableId="table-content",this.tableData=e,this.elementGenerator=new l}generateDurationButton(e){let t=document.createElement("button");return t.innerText=e,t.style=" \n        width:5%\n        ",t.setAttribute("duration",e),t.addEventListener("click",this.onDurationButtonClicked),t}generateRowDiv(){let e=document.createElement("div");return e.style="\n        display:flex;\n        border-top: solid 1px black;\n        ",e}generateDurationButtons(){let e=this.generateRowDiv();return e.appendChild(this.generateDurationButton(r.SIXMONTHS)),e.appendChild(this.generateDurationButton(r.ONEYEAR)),e.appendChild(this.generateDurationButton(r.TWOYEARS)),e.appendChild(this.generateDurationButton(r.ALLTIME)),e}test(){this.parentElement.appendChild(this.getContentElement())}getContentElement(){let e=document.createElement("div"),t=this.tableData.getList(r.ALLTIME),n=this.elementGenerator.getTableHeaderElement(),a=this.elementGenerator.getTableContentElement(t);return e.appendChild(this.generateDurationButtons()),e.appendChild(n),e.appendChild(a),e}onDurationButtonClicked=e=>{this.swapTable(e.currentTarget.getAttribute("duration"))};swapTable=e=>{null!=document.getElementById(this.tableId)&&document.getElementById(this.tableId).remove();let t=this.tableData.getList(e),n=this.elementGenerator.getTableContentElement(t);this.parentElement.appendChild(n)}}var s=new class{constructor(){this.modal=this.createModal(),this.modalContentBox=this.createModalContentBox(),this.appendToModal(this.modalContentBox),this.appendModal(document.body)}createModalContentBox(){let e=document.createElement("div");return e.style="\n        background-color: #fefefe;\n        margin-top:1%; \n        margin-left: auto;\n        margin-right: auto;\n        padding: 20px;\n        width: 80%;\n        mid-height: 15%\n        ",e}getModalContentBox(){return this.modalContentBox}appendModal(e){e.appendChild(this.modal)}appendToModal(e){this.modal.appendChild(e)}appendToContainer(e){this.modalContentBox.appendChild(e)}createCloseButton(){let e=document.createElement("span");return e.style=" \n        float: right;\n        font-size: 28px;\n        font-weight: bold;\n        cursor: pointer;\n        ",e.innerText="x",e.addEventListener("click",resetModal),e}createModal(){let e=document.createElement("div");return e.style=" \n        display: none; \n        position: fixed; \n        z-index: 32;\n        left: 0;\n        top: 0;\n        width: 100%; \n        height: 100%; \n        overflow: auto; \n        ",window.addEventListener("click",this.onModalClicked),e.id="CompanyModal",e}openModal(){this.modal.style.display=""}closeModal(){this.modal.style.display="none"}clearModalContent(){for(;null!=this.modalContentBox.firstChild;)this.modalContentBox.firstChild.remove()}onModalClicked=e=>{e.target==this.modal&&this.resetModal()};resetModal=()=>{this.closeModal(),this.clearModalContent()}},d=new function(){function t(e){var a=document.getElementsByClassName("mt-0")[0];const r=new MutationObserver((()=>{n(e)}));a?r.observe(a,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"]}):window.setTimeout((()=>{t()}),500)}function n(t){let n=function(){let t=[],n=document.getElementsByClassName("swiper-slide-active"),a=n[n.length-1].getElementsByTagName("a");for(let n=0;n<=a.length-1;n++){let r=a[n].firstChild.firstChild.textContent.toLowerCase(),o=new e(r,a[n]);a[n].href="javascript:void(0)",t.push(o)}return t}();for(let e=0;e<=n.length-1;e++){let a=n[e].name;if(1!=n[e].button.getAttribute("listener-registered")){n[e].button.setAttribute("listener-registered","true"),n[e].button.setAttribute("company-name",a);for(let a=0;a<=t.length-1;a++)n[e].button.addEventListener("click",t[a])}}}this.onCompanyButtonClick=[],this.injectFunctionToElement=function(e){this.onCompanyButtonClick.push(e)},this.modifyElement=function(){n(this.onCompanyButtonClick),t(this.onCompanyButtonClick)}},h=new class{constructor(e){this.fetcher=new e}getCompanyProblemData(e){return this.fetcher.getCompanyProblemData(e)}}(o),c=new class{constructor(e){this.fetcher=new e}getProblemData(){return this.fetcher.getProblemData()}}(o);d.injectFunctionToElement((e=>{let t=e.currentTarget.getAttribute("company-name"),n=h.getCompanyProblemData(t);new i(n,s.getModalContentBox()).test(),s.openModal()})),d.modifyElement();let m=c.getProblemData();new class{constructor(e){this.data=e,this.observer=new MutationObserver((()=>{this.modifyActiveProblemElement(this.data)})),this.modifyActiveProblemElement(this.data),this.addObserverToProblemTable()}modifyActiveProblemElement=()=>{this.disconnectObserverToProblemTable();let e=document.querySelector('[role="rowgroup"]').querySelectorAll('[role="row"]');for(let t=0;t<=e.length-1;t++){let n=e[t].querySelectorAll('[role="cell"]'),a=n[1].textContent,r=n[n.length-1],o=a.split(".")[0],l=this.data[o];null==l&&(l=0),l*=100,this.removeProgressbarUnlockButton(r),this.insertInnerProgressbar(r,l)}this.addObserverToProblemTable()};insertInnerProgressbar(e,t){let n="inner-progressbar",a=e.getElementsByClassName(n),r=e.getElementsByClassName("rounded-l-lg")[0];a.length>0&&a[0].remove(),r.setAttribute("title",`${Math.round(t)}%`);let o=document.createElement("div");o.style=`\n        background-color: red;\n        width: ${t}%;\n        height: 0.5rem;\n        border-bottom-right-radius: 0.5rem;\n        border-top-right-radius: 0.5rem;\n        border-bottom-left-radius: 0.5rem;\n        border-top-left-radius: 0.5rem;\n        `,o.classList.add(n),r.appendChild(o)}disconnectObserverToProblemTable(){this.observer.disconnect()}addObserverToProblemTable(){let e=document.querySelector('[role="table"]');this.observer.observe(e,{childList:!0,subtree:!0})}removeProgressbarUnlockButton(e){let t=e.getElementsByTagName("svg")[0],n=e.getElementsByClassName("rounded-r-lg")[0],a=e.getElementsByClassName("rounded-l-lg")[0];null!=t&&t.remove(),null!=n&&n.remove(),null!=a&&(a.style="\n            border-bottom-right-radius: 0.5rem;\n            overflow: hidden; \n            border-top-right-radius: 0.5rem\n            ")}}(m)})();